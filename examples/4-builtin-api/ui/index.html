<!DOCTYPE html>
<html lang="en">

    <head>
        <!-- Essential Meta Tags -->
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        
        <!-- SEO Meta Tags -->
        <title>Built-in API Demo | genes Framework Example</title>
        <meta name="description" content="Explore genes framework's built-in API capabilities. Content management, file operations, and more with zero configuration.">
        <meta name="keywords" content="genes built-in API, PHP API demo, genes framework API, content management API, genes example">
        <meta name="author" content="Devrim Vardar">
        <meta name="robots" content="index, follow">
        <link rel="canonical" href="https://genes.one/demos/4-builtin-api/">
        
        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://genes.one/demos/4-builtin-api/">
        <meta property="og:title" content="Built-in API Demo - genes Framework">
        <meta property="og:description" content="Explore genes framework's built-in API capabilities with this interactive demo.">
        <meta property="og:image" content="https://genes.one/assets/images/genes-og-image.png">
        <meta property="og:site_name" content="genes Framework">
        
        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:url" content="https://genes.one/demos/4-builtin-api/">
        <meta name="twitter:title" content="Built-in API Demo - genes Framework">
        <meta name="twitter:description" content="Explore genes framework's built-in API capabilities.">
        <meta name="twitter:image" content="https://genes.one/assets/images/genes-og-image.png">
        <meta name="twitter:creator" content="@DevrimVardar">
        
        <link rel="icon" type="image/png" href="../../favicon.png">
        <link rel="apple-touch-icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../genes.css">
        <link rel="stylesheet" href="ui/assets/app.css">
    </head>

    <body>
        <div class="container">
            <header class="py-3 border-b">
                <h1>Example 4: Built-in REST API</h1>
                <p class="text-muted">No code required - Genes handles everything automatically!</p>
            </header>

            <main class="py-3">
                <!-- Info Banner -->
                <section class="p-3 mb-3 border rounded bg-info">
                    <h2 class="text-white">âœ¨ Zero Custom Code!</h2>
                    <p class="text-white mb-0">This example has <strong>no custom API handlers</strong>. All CRUD operations are handled by Genes' built-in API system at <code>/api/*</code> routes.</p>
                </section>

                <!-- Two Column Layout -->
                <div class="flex gap-3" style="align-items: flex-start;">
                    <!-- Left Column: API Documentation -->
                    <div style="flex: 1;">
                        <section class="p-3 border rounded bg-light">
                            <h2>Built-in API Endpoints</h2>
                            <p class="text-muted">Genes automatically provides REST endpoints for all 5 database tables.</p>

                            <div class="api-docs">
                                <h3 class="mt-3">Basic CRUD</h3>
                                <div class="api-endpoint">
                                    <code class="method-get">GET</code>
                                    <code>/api/items</code>
                                    <p class="text-sm text-muted">List all items</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-get">GET</code>
                                    <code>/api/items/:hash</code>
                                    <p class="text-sm text-muted">Get single item</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-post">POST</code>
                                    <code>/api/items</code>
                                    <p class="text-sm text-muted">Create new item</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-put">PUT</code>
                                    <code>/api/items/:hash</code>
                                    <p class="text-sm text-muted">Update item</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-delete">DELETE</code>
                                    <code>/api/items/:hash</code>
                                    <p class="text-sm text-muted">Delete item</p>
                                </div>

                                <h3 class="mt-3">Advanced Features</h3>
                                <div class="api-endpoint">
                                    <code class="method-get">GET</code>
                                    <code>/api/items?filters[type]=todo</code>
                                    <p class="text-sm text-muted">Filter by field</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-get">GET</code>
                                    <code>/api/items?page=1&limit=10</code>
                                    <p class="text-sm text-muted">Pagination</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-get">GET</code>
                                    <code>/api/items?order=created_at DESC</code>
                                    <p class="text-sm text-muted">Sorting</p>
                                </div>
                                <div class="api-endpoint">
                                    <code class="method-get">GET</code>
                                    <code>/api/items?search=keyword</code>
                                    <p class="text-sm text-muted">Full-text search</p>
                                </div>

                                <h3 class="mt-3">All Tables Supported</h3>
                                <ul class="text-sm">
                                    <li><code>/api/items</code> - Content (posts, todos, products, etc)</li>
                                    <li><code>/api/persons</code> - Users and accounts</li>
                                    <li><code>/api/labels</code> - Categories and tags</li>
                                    <li><code>/api/clones</code> - Projects/instances</li>
                                    <li><code>/api/events</code> - Activity log</li>
                                </ul>
                            </div>
                        </section>

                        <!-- Code Example -->
                        <section class="p-3 mt-3 border rounded" style="background: #1a1a1a;">
                            <h3 style="color: #fff;">Complete Implementation</h3>
                            <pre style="color: #0f0;"><code>&lt;?php
require_once 'genes.php';

// Setup database
g::run("db.connect", array(
    "driver" => "sqlite",
    "database" => "app.db"
));

// That's it! API is ready at /api/*
g::run("route.handle");
</code></pre>
                            <p class="text-sm text-muted" style="color: #fff;">That's the entire implementation. Genes handles everything!</p>
                        </section>
                    </div>

                    <!-- Right Column: Interactive Demo -->
                    <div style="flex: 1;">
                        <section class="p-3 border rounded">
                            <h2>Try It Out</h2>
                            <p class="text-muted">Create, update, and delete todos using the built-in API</p>

                            <!-- Create Form -->
                            <form id="todoForm" class="mb-3">
                                <div class="mb-2">
                                    <label>Todo Title</label>
                                    <input type="text" id="todoTitle" class="input" placeholder="Enter todo title" required>
                                </div>
                                <div class="mb-2">
                                    <label>Description</label>
                                    <textarea id="todoDescription" class="input" placeholder="Optional description"></textarea>
                                </div>
                                <div class="mb-2">
                                    <label>Priority</label>
                                    <select id="todoPriority" class="input">
                                        <option value="low">Low</option>
                                        <option value="normal" selected>Normal</option>
                                        <option value="high">High</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn">Create Todo</button>
                            </form>

                            <!-- Todo List -->
                            <div class="flex flex-between mb-2" style="align-items: center;">
                                <h3 style="margin-bottom: 0;">Your Todos</h3>
                                <button id="refreshBtn" class="btn btn-sm">Refresh</button>
                            </div>
                            <div id="todoList">
                                <p class="text-muted">Loading todos...</p>
                            </div>
                        </section>

                        <!-- API Response Log -->
                        <section class="mt-3 p-3 border rounded" style="background: #1a1a1a;">
                            <h3 style="color: #fff;">API Calls Log</h3>
                            <pre id="apiLog" class="text-sm" style="color: #0f0; max-height: 300px; overflow-y: auto;"></pre>
                        </section>
                    </div>
                </div>

                <!-- Features Comparison -->
                <section class="mt-3 p-3 border rounded bg-light">
                    <h2>Built-in API vs Custom Implementation</h2>
                    <div class="flex gap-3">
                        <div style="flex: 1;">
                            <h3>âœ… Built-in API (This Example)</h3>
                            <ul class="text-sm">
                                <li>Zero code - just configure database</li>
                                <li>Automatic CRUD on all 5 tables</li>
                                <li>Built-in validation</li>
                                <li>Pagination & search included</li>
                                <li>Filter support out-of-the-box</li>
                                <li>Consistent response format</li>
                                <li>Production-ready immediately</li>
                            </ul>
                        </div>
                        <div style="flex: 1;">
                            <h3>ðŸ”§ Custom API (Example 3)</h3>
                            <ul class="text-sm">
                                <li>Full control over logic</li>
                                <li>Custom business rules</li>
                                <li>Specialized validation</li>
                                <li>Custom endpoints/routes</li>
                                <li>Non-standard operations</li>
                                <li>Learning exercise</li>
                                <li>When you need specific behavior</li>
                            </ul>
                        </div>
                    </div>
                    <p class="text-muted mt-2 mb-0"><strong>Use built-in API</strong> for standard CRUD. <strong>Use custom implementation</strong> when you need special logic.</p>
                </section>
            </main>

            <footer class="py-2 border-t text-center text-muted">
                <p>Example 4: Built-in REST API | Genes Framework</p>
            </footer>
        </div>

        <script src="../../genes.js"></script>
        <script src="ui/assets/app.js"></script>
    </body>

</html>